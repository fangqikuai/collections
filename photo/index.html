<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>苹果相册平台效果</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        html,body{
            width: 100%;
            height: 100%;
            background: #000;
        }
        .banner{
            width: 100%;
            height: 300px;
            position: relative;
            transform-style: preserve-3d;
            -webkit-transform-style: preserve-3d;
            perspective: 1000px;
            -webkit-perspective: 1000px;
        }
        .banner img{
            width: 300px;
            height: 400px;
            margin-top: 200px;
            -webkit-box-reflect: below 0 -webkit-linear-gradient(top,rgba(0,0,0,.1),rgba(0,0,0,.5));
            transition: all .5s;
            position: absolute;
        }
        .banner img.left{
            transform: rotateY(45deg);
        }
        .banner img.middle{
            transform: rotateY(0deg) translateZ(100px);
        }
        .banner img.right{
            transform: rotateY(-45deg);
        }
    </style>

</head>
<body>
    <div class="banner">
        <img src="images/1.jpg" alt="" />
        <img src="images/2.jpg" alt="" />
        <img src="images/3.jpg" alt="" />
        <img src="images/4.jpg" alt="" />
        <img src="images/5.jpg" alt="" />
        <img src="images/6.jpg" alt="" />
        <img src="images/7.jpg" alt="" />
    </div>


    <script>
        var oImg = document.getElementsByTagName("img");
        var imgL = oImg.length;
        var mIndex = parseInt(imgL / 2);

        function madeMiddle(){
            for (var i = 0; i < imgL ; i++) {
                var mIndexL = parseInt((document.body.clientWidth - oImg[0].offsetWidth) / 2 );
                oImg[i].style.left = mIndexL - 100 * (mIndex - i) + "px";
            }
        }
        madeMiddle();

        window.onresize = function(){
            madeMiddle();
        };

        for (var i = 0; i < imgL; i++) {
            if(i < mIndex){
                oImg[i].className = "left";
            }else if(i == mIndex){
                oImg[i].className = "middle";
            }else{
                oImg[i].className = "right";
            }
        }

        for (var i = 0; i < imgL; i++) {
            oImg[i].index = i;
            oImg[i].onclick = function(){
                mIndex = this.index;
                for (var i = 0; i < imgL; i++) {
                    var mIndexL = parseInt((document.body.clientWidth - oImg[0].offsetWidth) / 2 );
                    oImg[i].style.left = mIndexL - 100 * (mIndex - i ) + "px";
                }
                for (var j = 0; j < imgL; j++) {
                    if(j < mIndex){
                        oImg[j].className = "left";
                    }else if(j == mIndex){
                        oImg[j].className = "middle";
                    }else{
                        oImg[j].className = "right";
                    }
                }
            }
        }

    </script>
</body>
</html>